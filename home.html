<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ToDoit - Home</title>
    <script src="js/properties.js" defer></script>
    <script type="text/javascript" src="js/auth.js"></script>
    <script type="text/javascript" src="js/features.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", ()=>{
        loadTodos();
      });
    </script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container">
        <a class="navbar-brand" href="#" style="color: rgb(172, 43, 172);">ToDoit</a>
        <div class="d-flex">
          <span class="navbar-text me-3">
            Welcome, <span id="username">User</span>
          </span>
          <button class="btn btn-outline-danger btn-sm" onclick="logout()">Logout</button>
        </div>
      </div>
    </nav>
    
    <div class="container mt-4">
      <div class="row">
        <div class="col-md-6 offset-md-3">
          <div class="card mb-4">
            <div class="card-header">
              Add New Todo
            </div>
            <div class="card-body">
              <div class="mb-3">
                <label for="new-todo-title" class="form-label">Title</label>
                <input type="text" class="form-control" id="new-todo-title" placeholder="What needs to be done?">
              </div>
              <div class="mb-3">
                <label for="new-todo-desc" class="form-label">Description (optional)</label>
                <textarea class="form-control" id="new-todo-desc" rows="2"></textarea>
              </div>
              <button class="btn btn-primary" onclick="addTodo()">Add Todo</button>
            </div>
          </div>
          
          <h3 class="mb-3">My Todos</h3>
          <div id="todos-container">
            <!-- Todos will be loaded here -->
            <p class="text-center">Loading...</p>
          </div>
        </div>
      </div>
    </div>
      
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script>
  </body>
</html>